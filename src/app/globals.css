@import "tailwindcss";

/* Use class-based dark mode */
@variant dark (&:where(.dark, .dark *));

:root {
  /* ============================================
     DESIGN TOKENS - Light Mode
     ============================================ */

  /* --- Neutral Gray Scale (Zinc-based) --- */
  --gray-50: #fafafa;
  --gray-100: #f4f4f5;
  --gray-200: #e4e4e7;
  --gray-300: #d4d4d8;
  --gray-400: #a1a1aa;
  --gray-500: #71717a;
  --gray-600: #52525b;
  --gray-700: #3f3f46;
  --gray-800: #27272a;
  --gray-900: #18181b;
  --gray-950: #09090b;

  /* --- Semantic Colors --- */
  --background: var(--gray-50);
  --foreground: var(--gray-900);

  /* Subtle borders */
  --border: var(--gray-200);
  --border-muted: var(--gray-100);

  /* Neutral grays */
  --muted: var(--gray-100);
  --muted-foreground: var(--gray-500);

  /* Primary - subtle blue-gray */
  --primary: var(--gray-700);
  --primary-foreground: var(--gray-50);

  /* Secondary */
  --secondary: var(--gray-100);
  --secondary-foreground: var(--gray-900);

  /* Accent - warm neutral */
  --accent: var(--gray-100);
  --accent-foreground: var(--gray-900);

  /* Destructive */
  --destructive: #ef4444;
  --destructive-foreground: var(--gray-50);

  /* Success */
  --success: #22c55e;
  --success-foreground: var(--gray-50);

  /* Warning */
  --warning: #f59e0b;
  --warning-foreground: var(--gray-900);

  /* Info */
  --info: #3b82f6;
  --info-foreground: var(--gray-50);

  /* Card */
  --card: #ffffff;
  --card-foreground: var(--gray-900);

  /* Popover */
  --popover: #ffffff;
  --popover-foreground: var(--gray-900);

  /* Input */
  --input: var(--gray-200);
  --ring: var(--gray-400);

  /* --- Elevation Shadows (Material Design inspired) --- */
  --shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.05);
  --shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.07), 0 2px 4px -2px rgb(0 0 0 / 0.07);
  --shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.08), 0 4px 6px -4px rgb(0 0 0 / 0.08);
  --shadow-xl: 0 20px 25px -5px rgb(0 0 0 / 0.08), 0 8px 10px -6px rgb(0 0 0 / 0.08);
  --shadow-2xl: 0 25px 50px -12px rgb(0 0 0 / 0.15);
  --shadow-inner: inset 0 2px 4px 0 rgb(0 0 0 / 0.05);

  /* --- Border Radius Scale --- */
  --radius-none: 0;
  --radius-sm: 0.25rem;
  --radius-md: 0.375rem;
  --radius-lg: 0.5rem;
  --radius-xl: 0.75rem;
  --radius-2xl: 1rem;
  --radius-3xl: 1.5rem;
  --radius-full: 9999px;

  /* --- Typography Scale --- */
  --font-size-xs: 0.75rem;
  --font-size-sm: 0.875rem;
  --font-size-base: 1rem;
  --font-size-lg: 1.125rem;
  --font-size-xl: 1.25rem;
  --font-size-2xl: 1.5rem;
  --font-size-3xl: 1.875rem;
  --font-size-4xl: 2.25rem;

  --line-height-tight: 1.25;
  --line-height-snug: 1.375;
  --line-height-normal: 1.5;
  --line-height-relaxed: 1.625;

  --font-weight-normal: 400;
  --font-weight-medium: 500;
  --font-weight-semibold: 600;
  --font-weight-bold: 700;

  --letter-spacing-tight: -0.025em;
  --letter-spacing-normal: 0;
  --letter-spacing-wide: 0.025em;

  /* --- Transition Durations --- */
  --duration-instant: 0ms;
  --duration-fast: 100ms;
  --duration-normal: 200ms;
  --duration-slow: 300ms;
  --duration-slower: 500ms;

  /* --- Transition Easings --- */
  --ease-linear: linear;
  --ease-in: cubic-bezier(0.4, 0, 1, 1);
  --ease-out: cubic-bezier(0, 0, 0.2, 1);
  --ease-in-out: cubic-bezier(0.4, 0, 0.2, 1);
  --ease-bounce: cubic-bezier(0.34, 1.56, 0.64, 1);

  /* --- Spacing Scale (for reference) --- */
  --space-px: 1px;
  --space-0: 0;
  --space-0-5: 0.125rem;
  --space-1: 0.25rem;
  --space-1-5: 0.375rem;
  --space-2: 0.5rem;
  --space-2-5: 0.625rem;
  --space-3: 0.75rem;
  --space-3-5: 0.875rem;
  --space-4: 1rem;
  --space-5: 1.25rem;
  --space-6: 1.5rem;
  --space-7: 1.75rem;
  --space-8: 2rem;
  --space-9: 2.25rem;
  --space-10: 2.5rem;
  --space-12: 3rem;
  --space-14: 3.5rem;
  --space-16: 4rem;
  --space-20: 5rem;
  --space-24: 6rem;
}

@theme inline {
  /* --- Color Tokens --- */
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --color-border: var(--border);
  --color-border-muted: var(--border-muted);
  --color-muted: var(--muted);
  --color-muted-foreground: var(--muted-foreground);
  --color-primary: var(--primary);
  --color-primary-foreground: var(--primary-foreground);
  --color-secondary: var(--secondary);
  --color-secondary-foreground: var(--secondary-foreground);
  --color-accent: var(--accent);
  --color-accent-foreground: var(--accent-foreground);
  --color-destructive: var(--destructive);
  --color-destructive-foreground: var(--destructive-foreground);
  --color-success: var(--success);
  --color-success-foreground: var(--success-foreground);
  --color-warning: var(--warning);
  --color-warning-foreground: var(--warning-foreground);
  --color-info: var(--info);
  --color-info-foreground: var(--info-foreground);
  --color-card: var(--card);
  --color-card-foreground: var(--card-foreground);
  --color-popover: var(--popover);
  --color-popover-foreground: var(--popover-foreground);
  --color-input: var(--input);
  --color-ring: var(--ring);

  /* Gray scale for direct usage */
  --color-gray-50: var(--gray-50);
  --color-gray-100: var(--gray-100);
  --color-gray-200: var(--gray-200);
  --color-gray-300: var(--gray-300);
  --color-gray-400: var(--gray-400);
  --color-gray-500: var(--gray-500);
  --color-gray-600: var(--gray-600);
  --color-gray-700: var(--gray-700);
  --color-gray-800: var(--gray-800);
  --color-gray-900: var(--gray-900);
  --color-gray-950: var(--gray-950);

  /* --- Typography --- */
  --font-sans: var(--font-geist-sans);
  --font-mono: var(--font-geist-mono);

  /* --- Shadow Tokens --- */
  --shadow-sm: var(--shadow-sm);
  --shadow-md: var(--shadow-md);
  --shadow-lg: var(--shadow-lg);
  --shadow-xl: var(--shadow-xl);
  --shadow-2xl: var(--shadow-2xl);
  --shadow-inner: var(--shadow-inner);

  /* --- Border Radius Tokens --- */
  --radius-none: var(--radius-none);
  --radius-sm: var(--radius-sm);
  --radius-md: var(--radius-md);
  --radius-lg: var(--radius-lg);
  --radius-xl: var(--radius-xl);
  --radius-2xl: var(--radius-2xl);
  --radius-3xl: var(--radius-3xl);
  --radius-full: var(--radius-full);

  /* --- Transition Durations --- */
  --transition-duration-instant: var(--duration-instant);
  --transition-duration-fast: var(--duration-fast);
  --transition-duration-normal: var(--duration-normal);
  --transition-duration-slow: var(--duration-slow);
  --transition-duration-slower: var(--duration-slower);

  /* --- Transition Easings --- */
  --ease-linear: var(--ease-linear);
  --ease-in: var(--ease-in);
  --ease-out: var(--ease-out);
  --ease-in-out: var(--ease-in-out);
  --ease-bounce: var(--ease-bounce);
}

/* Dark mode - activated by .dark class on html element */
html.dark,
html.dark body,
.dark {
  --background: #09090b;
  --foreground: #fafafa;
  --border: #27272a;
  --border-muted: #18181b;
  --muted: #27272a;
  --muted-foreground: #a1a1aa;
  --primary: #fafafa;
  --primary-foreground: #18181b;
  --secondary: #27272a;
  --secondary-foreground: #fafafa;
  --accent: #27272a;
  --accent-foreground: #fafafa;
  --card: #18181b;
  --card-foreground: #fafafa;
  --popover: #18181b;
  --popover-foreground: #fafafa;
  --input: #27272a;
  --ring: #52525b;
  --shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.3);
  --shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.4), 0 2px 4px -2px rgb(0 0 0 / 0.3);
  --shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.4), 0 4px 6px -4px rgb(0 0 0 / 0.3);
  --shadow-xl: 0 20px 25px -5px rgb(0 0 0 / 0.4), 0 8px 10px -6px rgb(0 0 0 / 0.3);
  --shadow-2xl: 0 25px 50px -12px rgb(0 0 0 / 0.5);
  --shadow-inner: inset 0 2px 4px 0 rgb(0 0 0 / 0.3);

  color-scheme: dark;
}

/* Prevent horizontal scroll */
html,
body {
  overflow-x: hidden;
  overscroll-behavior-x: none;
}

body {
  background-color: var(--background);
  color: var(--foreground);
  font-family: var(--font-sans), system-ui, sans-serif;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  transition: background-color 0.2s ease, color 0.2s ease;
}

html.dark body {
  background-color: #09090b;
  color: #fafafa;
}

/* Safe area padding for iOS */
.safe-area-pb {
  padding-bottom: env(safe-area-inset-bottom);
}

.safe-area-pt {
  padding-top: env(safe-area-inset-top);
}

/* Touch-friendly targets */
.touch-target {
  min-height: 44px;
  min-width: 44px;
}

/* Improved touch handling */
.touch-manipulation {
  touch-action: manipulation;
}

/* Prevent text selection on buttons */
button,
[role="button"] {
  user-select: none;
  -webkit-user-select: none;
}

/* Improved scroll behavior */
.overscroll-contain {
  overscroll-behavior: contain;
}

/* Active state for touch devices */
@media (hover: none) and (pointer: coarse) {
  button:active,
  [role="button"]:active {
    transform: scale(0.98);
  }
}

/* Ensure inputs are large enough for touch */
input,
select,
textarea {
  font-size: 16px; /* Prevents zoom on iOS */
}

/* Smooth scrolling for iOS */
.scroll-smooth {
  -webkit-overflow-scrolling: touch;
}

/* Hide scrollbars on mobile but keep functionality */
@media (max-width: 640px) {
  .hide-scrollbar {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }
  .hide-scrollbar::-webkit-scrollbar {
    display: none;
  }
}

/* Animation keyframes */
@keyframes slide-up {
  from {
    transform: translateY(100%);
  }
  to {
    transform: translateY(0);
  }
}

@keyframes slide-down {
  from {
    transform: translateY(0);
  }
  to {
    transform: translateY(100%);
  }
}

@keyframes fade-in {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

@keyframes fade-out {
  from {
    opacity: 1;
  }
  to {
    opacity: 0;
  }
}

@keyframes scale-in {
  from {
    opacity: 0;
    transform: scale(0.95);
  }
  to {
    opacity: 1;
    transform: scale(1);
  }
}

.animate-slide-up {
  animation: slide-up 0.3s ease-out;
}

.animate-slide-down {
  animation: slide-down 0.3s ease-out;
}

.animate-fade-in {
  animation: fade-in 0.2s ease-out;
}

.animate-fade-out {
  animation: fade-out 0.2s ease-out;
}

.animate-scale-in {
  animation: scale-in 0.2s ease-out;
}

/* Ripple animation for buttons */
@keyframes ripple {
  0% {
    transform: scale(0);
    opacity: 0.2;
  }
  100% {
    transform: scale(4);
    opacity: 0;
  }
}

.animate-ripple {
  animation: ripple 0.6s ease-out forwards;
}

/* Agenda-specific animations */
@keyframes slide-in-left {
  from {
    opacity: 0;
    transform: translateX(-10px);
  }
  to {
    opacity: 1;
    transform: translateX(0);
  }
}

@keyframes slide-in-right {
  from {
    opacity: 0;
    transform: translateX(10px);
  }
  to {
    opacity: 1;
    transform: translateX(0);
  }
}

@keyframes pop-in {
  0% {
    opacity: 0;
    transform: scale(0.9);
  }
  70% {
    transform: scale(1.02);
  }
  100% {
    opacity: 1;
    transform: scale(1);
  }
}

.animate-slide-in-left {
  animation: slide-in-left 0.2s ease-out;
}

.animate-slide-in-right {
  animation: slide-in-right 0.2s ease-out;
}

.animate-pop-in {
  animation: pop-in 0.25s ease-out;
}

/* Hide scrollbar utility */
.scrollbar-hide {
  -ms-overflow-style: none;
  scrollbar-width: none;
}

.scrollbar-hide::-webkit-scrollbar {
  display: none;
}

/* ============================================
   PAGE TRANSITIONS
   ============================================ */

/* Page transition wrapper */
/* Note: will-change with transform breaks fixed positioning for descendants */
.page-transition {
  will-change: opacity;
}

/* Enter animation - fade in and slide up */
.page-transition-enter {
  animation: page-enter var(--duration-slow) var(--ease-out) forwards;
}

/* Exit animation - fade out and slide down slightly */
.page-transition-exit {
  animation: page-exit calc(var(--duration-slow) / 2) var(--ease-in) forwards;
}

@keyframes page-enter {
  from {
    opacity: 0;
    transform: translateY(8px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes page-exit {
  from {
    opacity: 1;
    transform: translateY(0);
  }
  to {
    opacity: 0;
    transform: translateY(-4px);
  }
}

/* Respect reduced motion preferences */
@media (prefers-reduced-motion: reduce) {
  .page-transition,
  .page-transition-enter,
  .page-transition-exit {
    animation: none;
    transition: none;
  }

  .page-transition-enter {
    opacity: 1;
    transform: none;
  }

  .page-transition-exit {
    opacity: 1;
    transform: none;
  }

  /* Also disable other animations for reduced motion */
  .animate-slide-up,
  .animate-slide-down,
  .animate-fade-in,
  .animate-fade-out,
  .animate-scale-in,
  .animate-ripple,
  .animate-slide-in-left,
  .animate-slide-in-right,
  .animate-pop-in {
    animation: none;
  }
}
